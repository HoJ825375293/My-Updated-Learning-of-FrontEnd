{"ast":null,"code":"var _jsxFileName = \"/Users/jaylon_ho/Documents/GitHub/My-Updated-Learning-of-FrontEnd/src/components/music/Content.js\";\nimport React from 'react';\nimport { //AudioMutedOutlined,\nArrowLeftOutlined, StepBackwardOutlined, StepForwardOutlined, PlayCircleFilled, SoundOutlined, PauseCircleFilled } from '@ant-design/icons'; //import { Slider } from 'antd';\n\nimport \"./content.css\"; //import AutoPlay from \"./AutoPlay\";\n\nvar playn = function () {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"play\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PlayCircleFilled, {\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 31\n    }\n  }));\n};\n\nvar pausen = function () {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pause\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PauseCircleFilled, {\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 32\n    }\n  }));\n};\n\nvar musicList = [{\n  \"src\": \"http://music.xf1433.com/up/view.php/6527cbe718e81364c98e007c8bf60f1e.mp3\",\n  \"bg\": \"url(\" + require('./musicDisc.jpg') + \")\",\n  \"songName\": \"New Romantics\",\n  \"singerName\": \"Taylor Swift\"\n}, {\n  \"src\": \"http://music.xf1433.com/up/view.php/81cf3247587a70cde6f03838bdfbfe64.mp3\",\n  \"bg\": \"url(\" + require('./lostRiver.jpg') + \")\",\n  \"songName\": \"The Lake of Oblivision\",\n  \"singerName\": \"Asteria\"\n}];\n\nclass Content extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleVolArcDrag = () => {\n      console.log(\"Drag\");\n    };\n\n    this.handleVolArcMouseDown = () => {\n      var volArc = document.getElementsByClassName(\"volArc\")[0];\n      volArc.addEventListener(\"mousemove\", this.handleVolArcDrag);\n    };\n\n    this.handleVolArcMouseUp = () => {\n      var volArc = document.getElementsByClassName(\"volArc\")[0];\n      volArc.removeEventListener(\"mousemove\", this.handleVolArcDrag);\n    };\n\n    this.formatTime = num => {\n      let minute, seconde;\n      minute = Math.floor(num / 60);\n      seconde = Math.floor(num - minute * 60);\n      minute = minute < 10 ? \"0\" + minute : minute;\n      seconde = seconde < 10 ? \"0\" + seconde : seconde;\n      return minute + \":\" + seconde;\n    };\n\n    this.onTimeChange = () => {\n      const audio = document.getElementById(\"audio\");\n      const progressBar = document.getElementsByClassName(\"progressBar\")[0];\n      const progressBox = document.getElementsByClassName(\"progressBox\")[0];\n\n      if (audio.currentTime === audio.duration) {\n        this.setState({\n          isPlay: false\n        });\n      }\n\n      const currentTime = this.formatTime(audio.currentTime);\n      this.setState({\n        currentTime: currentTime\n      });\n      var curLong = Math.round(audio.currentTime / audio.duration * (progressBox.offsetWidth - 16));\n      progressBar.style.width = curLong + \"px\";\n    };\n\n    this.mainPlay = () => {\n      const {\n        isPlay\n      } = this.state;\n\n      if (isPlay) {\n        this.pause();\n      } else {\n        this.play();\n      }\n    };\n\n    this.play = () => {\n      const audio = document.getElementById(\"audio\");\n      audio.play();\n      this.setState({\n        isPlay: true\n      });\n    };\n\n    this.pause = () => {\n      const audio = document.getElementById(\"audio\");\n      audio.pause();\n      this.setState({\n        isPlay: false\n      });\n    };\n\n    this.getPlayBtn = () => {\n      if (this.state.isPlay) {\n        return pausen();\n      } else {\n        return playn();\n      }\n    };\n\n    this.onCanPlay = () => {\n      const audio = document.getElementById(\"audio\");\n      this.setState({\n        totalTime: this.formatTime(audio.duration),\n        currentTime: \"00:00\"\n      });\n    };\n\n    this.onSongPrev = () => {\n      let {\n        musicIndex\n      } = this.state;\n      let len = musicList.length;\n      let newIndex = (musicIndex + len - 1) % len;\n      this.onSongChange(newIndex);\n      this.setState({\n        musicIndex: newIndex\n      });\n    };\n\n    this.onSongNext = () => {\n      let {\n        musicIndex\n      } = this.state;\n      let len = musicList.length;\n      let newIndex = (musicIndex + 1) % len;\n      this.onSongChange(newIndex);\n      this.setState({\n        musicIndex: newIndex\n      });\n    };\n\n    this.onSongChange = i => {\n      const audio = document.getElementById(\"audio\");\n      const disc = document.getElementsByClassName(\"disc\")[0];\n      const blur = document.getElementsByClassName(\"blur\")[0];\n      this.pause();\n      const newSrc = musicList[i].src;\n      audio.src = newSrc;\n      this.setState({\n        songName: musicList[i].songName,\n        singerName: musicList[i].singerName\n      });\n      disc.style.background = musicList[i].bg + \" no-repeat center top\";\n      disc.style.backgroundSize = \"cover\";\n      blur.style.background = musicList[i].bg + \" no-repeat center top\";\n      blur.style.backgroundSize = \"cover\";\n      this.play();\n    };\n\n    this.state = {\n      totalTime: \"00:00\",\n      isPlay: false,\n      currentTime: \"00:00\",\n      musicIndex: 0,\n      songName: musicList[0].songName,\n      singerName: musicList[0].singerName\n    };\n  }\n\n  componentDidMount() {\n    document.getElementById(\"playBox\").addEventListener(\"click\", this.mainPlay);\n    document.getElementsByClassName(\"prev\")[0].addEventListener(\"click\", this.onSongPrev);\n    document.getElementsByClassName(\"next\")[0].addEventListener(\"click\", this.onSongNext);\n    var volArc = document.getElementsByClassName(\"volArc\")[0];\n    var processArc = document.getElementsByClassName(\"volArc\")[0];\n    volArc.addEventListener(\"mousedown\", this.handleVolArcMouseDown);\n    volArc.addEventListener(\"mouseup\", this.handleVolArcMouseUp);\n    const audio = document.getElementById(\"audio\");\n    const volume = document.getElementById(\"volume\");\n    const volBar = document.getElementById(\"volBar\");\n    audio.volume = Math.round(volBar.offsetWidth / volume.offsetWidth * 100) / 100; //audio.addEventListener(\"timeupdate\", this.onTimeChange)\n  }\n\n  render() {\n    const {\n      currentTime,\n      totalTime,\n      songName,\n      singerName\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"audio\", {\n      id: \"audio\",\n      src: \"http://music.xf1433.com/up/view.php/6527cbe718e81364c98e007c8bf60f1e.mp3\",\n      ref: audio => {\n        this.audioDom = audio;\n      },\n      preload: \"auto\",\n      onCanPlay: this.onCanPlay,\n      onTimeUpdate: this.onTimeChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headBox clearFix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"goBack\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ArrowLeftOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"songName\",\n      id: \"songName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }\n    }, songName), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"singer\",\n      id: \"singerName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 29\n      }\n    }, singerName))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"discBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"volume\",\n      id: \"volume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"volBar\",\n      id: \"volBar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"volArc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"muteBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      id: \"volumeTag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(SoundOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 50\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"disc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"controlBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progressBox\",\n      id: \"progressBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"curTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 29\n      }\n    }, currentTime), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"progressBar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"progressArc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"totalTime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 29\n      }\n    }, totalTime)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"prev\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(StepBackwardOutlined, {\n      style: {\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 47\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"playBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, this.getPlayBtn()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"next\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(StepForwardOutlined, {\n      style: {\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 47\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blur\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Content;","map":{"version":3,"sources":["/Users/jaylon_ho/Documents/GitHub/My-Updated-Learning-of-FrontEnd/src/components/music/Content.js"],"names":["React","ArrowLeftOutlined","StepBackwardOutlined","StepForwardOutlined","PlayCircleFilled","SoundOutlined","PauseCircleFilled","playn","color","pausen","musicList","require","Content","Component","constructor","props","handleVolArcDrag","console","log","handleVolArcMouseDown","volArc","document","getElementsByClassName","addEventListener","handleVolArcMouseUp","removeEventListener","formatTime","num","minute","seconde","Math","floor","onTimeChange","audio","getElementById","progressBar","progressBox","currentTime","duration","setState","isPlay","curLong","round","offsetWidth","style","width","mainPlay","state","pause","play","getPlayBtn","onCanPlay","totalTime","onSongPrev","musicIndex","len","length","newIndex","onSongChange","onSongNext","i","disc","blur","newSrc","src","songName","singerName","background","bg","backgroundSize","componentDidMount","processArc","volume","volBar","render","audioDom"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { \n//AudioMutedOutlined,\nArrowLeftOutlined,\nStepBackwardOutlined,\nStepForwardOutlined,\nPlayCircleFilled,\nSoundOutlined,\nPauseCircleFilled\n} from '@ant-design/icons';\n//import { Slider } from 'antd';\nimport \"./content.css\";\n//import AutoPlay from \"./AutoPlay\";\n\nvar playn = function () {\n    return (\n        <div className=\"play\"><PlayCircleFilled style={{color:\"black\"}}/></div>\n    )\n}\n\nvar pausen = function () {\n    return (\n        <div className=\"pause\"><PauseCircleFilled style={{color:\"black\"}}/></div>\n    )\n}\n\nvar musicList = [\n    {\n        \"src\": \"http://music.xf1433.com/up/view.php/6527cbe718e81364c98e007c8bf60f1e.mp3\",\n        \"bg\": \"url(\" + require('./musicDisc.jpg') + \")\",\n        \"songName\": \"New Romantics\",\n        \"singerName\": \"Taylor Swift\"\n    },{\n        \"src\": \"http://music.xf1433.com/up/view.php/81cf3247587a70cde6f03838bdfbfe64.mp3\",\n        \"bg\": \"url(\" + require('./lostRiver.jpg') + \")\",\n        \"songName\": \"The Lake of Oblivision\",\n        \"singerName\": \"Asteria\"\n    }\n]\n\nclass Content extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            totalTime: \"00:00\",\n            isPlay: false,\n            currentTime: \"00:00\",\n            musicIndex: 0,\n            songName: musicList[0].songName,\n            singerName: musicList[0].singerName\n        }\n    }\n\n    componentDidMount() {\n        document.getElementById(\"playBox\").addEventListener(\"click\", this.mainPlay)\n        document.getElementsByClassName(\"prev\")[0].addEventListener(\"click\", this.onSongPrev)\n        document.getElementsByClassName(\"next\")[0].addEventListener(\"click\", this.onSongNext)\n        \n        var volArc = document.getElementsByClassName(\"volArc\")[0]\n        var processArc = document.getElementsByClassName(\"volArc\")[0]\n        \n        volArc.addEventListener(\"mousedown\", this.handleVolArcMouseDown)\n        volArc.addEventListener(\"mouseup\", this.handleVolArcMouseUp)\n        const audio = document.getElementById(\"audio\");\n        const volume = document.getElementById(\"volume\")\n        const volBar = document.getElementById(\"volBar\")\n        audio.volume = Math.round(volBar.offsetWidth / volume.offsetWidth * 100) / 100;\n        //audio.addEventListener(\"timeupdate\", this.onTimeChange)\n    }\n\n    handleVolArcDrag = () => {\n        console.log(\"Drag\")\n    }\n\n    handleVolArcMouseDown = () => {\n        var volArc = document.getElementsByClassName(\"volArc\")[0]\n        volArc.addEventListener(\"mousemove\", this.handleVolArcDrag)\n    }\n\n    handleVolArcMouseUp = () => {\n        var volArc = document.getElementsByClassName(\"volArc\")[0]\n        volArc.removeEventListener(\"mousemove\", this.handleVolArcDrag)\n    }\n    \n    formatTime = (num) => {\n        let minute, seconde\n        minute = Math.floor(num / 60)\n        seconde = Math.floor(num - minute * 60) \n        minute = minute < 10 ? \"0\" + minute : minute;\n        seconde = seconde < 10 ? \"0\" + seconde : seconde;\n        return minute + \":\" + seconde\n    }\n\n    onTimeChange = () => {\n        const audio = document.getElementById(\"audio\");\n        const progressBar = document.getElementsByClassName(\"progressBar\")[0]\n        const progressBox = document.getElementsByClassName(\"progressBox\")[0]\n        \n        if (audio.currentTime === audio.duration) {\n            this.setState({\n              isPlay: false,\n            });\n        }\n        const currentTime = this.formatTime(audio.currentTime)\n        this.setState({\n            currentTime:currentTime\n        })\n        var curLong = Math.round(audio.currentTime / audio.duration * (progressBox.offsetWidth - 16))\n        progressBar.style.width = curLong + \"px\"\n    }\n\n    mainPlay = () => {\n        const { isPlay } = this.state\n\n        if( isPlay ){\n            this.pause()\n        }else{\n            this.play()\n        }\n    }\n\n    play = () => {\n        const audio = document.getElementById(\"audio\");\n        audio.play()\n        this.setState({isPlay:true})\n    }\n\n    pause = () => {\n        const audio = document.getElementById(\"audio\");\n        audio.pause()\n        this.setState({isPlay:false})\n    }\n\n    getPlayBtn = () => {\n        if(this.state.isPlay){\n            return pausen()\n        }else{\n            return playn()\n        }\n    }\n\n    onCanPlay = () => {\n        const audio = document.getElementById(\"audio\");\n        this.setState({\n            totalTime: this.formatTime(audio.duration),\n            currentTime: \"00:00\"\n        })\n    }\n\n    onSongPrev = () => {\n        let { musicIndex } = this.state\n        let len = musicList.length\n        let newIndex = (musicIndex + len - 1) % len;\n\n        this.onSongChange(newIndex)\n        this.setState({\n            musicIndex: newIndex\n        })\n    }\n\n    onSongNext = () => {\n        let { musicIndex } = this.state\n        let len = musicList.length\n        let newIndex = (musicIndex + 1) % len;\n\n        this.onSongChange(newIndex)\n        this.setState({\n            musicIndex: newIndex\n        })\n    }\n\n    onSongChange = (i) => {\n        const audio = document.getElementById(\"audio\");\n        const disc = document.getElementsByClassName(\"disc\")[0]\n        const blur = document.getElementsByClassName(\"blur\")[0]\n        this.pause()\n        const newSrc = musicList[i].src;\n        audio.src = newSrc\n        this.setState({\n            songName: musicList[i].songName,\n            singerName: musicList[i].singerName\n        })\n\n        disc.style.background = musicList[i].bg + \" no-repeat center top\"\n        disc.style.backgroundSize = \"cover\"\n        blur.style.background = musicList[i].bg + \" no-repeat center top\"\n        blur.style.backgroundSize = \"cover\"\n        this.play()\n    }\n\n    render() {\n        const {currentTime, totalTime, songName, singerName} = this.state\n\n        return(\n            <div>\n                <audio\n                    id=\"audio\"\n                    src=\"http://music.xf1433.com/up/view.php/6527cbe718e81364c98e007c8bf60f1e.mp3\"\n                    ref={(audio) => {\n                        this.audioDom = audio;\n                    }}\n                    preload={\"auto\"}\n                    onCanPlay={this.onCanPlay}\n                    onTimeUpdate={this.onTimeChange}\n                    >\n                    {/*<track src=\"http://music.xf1433.com/up/view.php/6527cbe718e81364c98e007c8bf60f1e.mp3\" kind=\"captions\" /> */}\n                </audio>\n                <div className=\"main\">\n                    <div className=\"headBox clearFix\">\n                        <div className=\"goBack\">\n                        <ArrowLeftOutlined />\n                        </div>\n\t\t\t\t        <div className=\"title\">\n                            <p className=\"songName\" id=\"songName\">{ songName }</p>\n                            <p className=\"singer\" id=\"singerName\">{ singerName }</p>\n\t\t\t\t        </div>\n                    </div>\n                    <div className=\"discBox\">\n\t\t\t\t        <div className=\"volume\" id=\"volume\">\n\t\t\t\t\t        <div className=\"volBar\" id=\"volBar\">\n\t\t\t\t\t\t        <span className=\"volArc\"></span>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        <div id=\"muteBtn\"><i id=\"volumeTag\"><SoundOutlined /></i></div>\n                            <div className=\"border\"></div>\n                            <div className=\"disc\"></div>\n                        </div>\n\t\t\t\t    </div>\n                    <div className=\"controlBox\">\n                        <div className=\"progressBox\" id=\"progressBox\">\n                            <div className=\"curTime\">{currentTime}</div>\n                            <div className=\"progressBar\">\n                                <span className=\"progressArc\"></span>\n                            </div>\n                            <div className=\"totalTime\">{totalTime}</div>\n                        </div>\n                        <div className=\"prev\"><StepBackwardOutlined style={{color:\"black\"}}/></div>\n                        <div id=\"playBox\">{ this.getPlayBtn() }</div>\n                        <div className=\"next\"><StepForwardOutlined style={{color:\"black\"}}/></div>\n                    </div>\n                </div>\n                <div className=\"blur\">\n\t\t        </div>\n                {/*<AutoPlay src=\"http://ossweb-img.qq.com/images/lol/m/act/a20160315live/shake_sound_male.mp3\" id={123}/>*/}\n                {/* http://ossweb-img.qq.com/images/lol/m/act/a20160315live/shake_sound_male.mp3 */ }\n            </div>\n        )\n    }\n}\n\nexport default Content;"]},"metadata":{},"sourceType":"module"}